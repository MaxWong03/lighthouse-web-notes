# Lecture

## Why Database
* `data` is `tied` to the `functionality of apps`
* Which means sometimes inorder to add new features, you need to update your database (by adding new tables perhaps)
* enable "smart / special" `interaction` (analyitics) with `data` 


## Web App Structure
**FRONT END --- BACK END --- DATABASE**
* `Front End` talks to `Back End` using:
  - HTTP Request
    1) Forms
    2) < a > tags
    3) Ajax (XHR requests)

* `Back End` uses `TCP` to talk to Database

## Database
* `Database` is a  `software` in which ...
* `data` goes `into` a `box` and `come out` of a `box`
* a `box` `listens` to `database queries` (via TCP)
* Database is its own piece of software that listens to TCP request that may or may not come locally
* **DATA ----> SERVER ----> BOX ------>**
* When you are using a Database mangement system, you are talking to the a software that does database request for you

## Relational Database Model
* Many `lists`(table) that are `linked` together, upon which you could `draw connections`  and `retrieve information` between those lists (tables)
* `SQL` is a langague to `talk to a relation database`
* **The relation describes the relationship between one table to another table**

## SQL Queries
* In the `SELECT` clause, you are selecting the `columns` from the table you want to retrieve information from
* By default, select targets every row, you can elminiate the targeted row by using `WHERE`
* Think about what do you want the end result of the query to be / look like
* Replace `Where` with `And` when you use `Left Join`
* COUNT only counts the entries where the value is not null

## SQL SUB SELECT
* Select within a select its called `SUB SELECT`
* If your column needs computation, you probably need a sub select
* Think of sub select as a nested for loop

## POSTGRES command
* `\l` list all the database in the POSTGRES database mangement system

## Connecting to a Remote Database
[link](https://www.postgresql.org/message-id/001f01c018c2$830133b0$64898cd5@northlink.gr)


# SQL TABLE CREATION
* `SERIAL`
  - data type allows you to automatically generate unique integer numbers 
* `NOT NULL` 
  - by `default`, a column can hold NULL values
  - NOT NULL constraint enforces a column to NOT accept NULL values
* `REFERENCES`, `ON DELETE CASCADE`
  - REFERENCES is the foriegn key in another table
  - foriegn key is the primary key in the table you have linked
  - A foreign key with cascade delete means that `if a record in the parent table is deleted`, `then the corresponding records in the child table will automatically be deleted `
* `\dt`
  - display all the tables in a database (that you are currently connected to)
  - \dt foo will display the table named foo
* `\i filename` - execute queries (stored in file) against a database
* `ALTER SEQUENCE students_id_seq RESTART WITH 193;`
  - `ALERT SEQUENCE` change the definition of a sequence generator
  - restart a sequence called `student_id_seq`, at 193
  - The sequence is a special type of data created to generate unique numeric identifier in POSTgreSQL

# SQL GROUP BY
* The `GROUP BY` clause is used with the SELECT statement to `make a group of rows` **based on the values of a specific column or expression**. The SQL `AGGREGATE function` can be used to `get summary information` **for every group and these are applied to an individual group**.

# SQL WHERE and HAVING
* The `WHERE` clause is used to `retrieve rows` based `on` a `certain condition`, but it **can not be applied to grouped result.**
* `HAVING` clause `retrieve rows from a grouped result against some condition`. **Grouping can happen after retrieves the rows from a table**. 

# SQL QUERIES
* Using `COUNT` on a table meaning you are counting all the `instances` of an `entity`  (columns)
* So if you COUNT (*) on goals, then you are counting every goal

# GIT COMMIT MESSge
* use the message to let people know what you did, not what the website is now doing
* keep your commit message consistent
* put your sentences in present tense